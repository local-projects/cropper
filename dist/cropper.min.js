/*!
 * Cropper v2.3.2
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2014-2016 Fengyuan Chen and contributors
 * Released under the MIT license
 *
 * Date: 2016-08-19T15:41:48.073Z
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function i(t){return"number"==typeof t&&!isNaN(t)}function e(t){return"undefined"==typeof t}function s(t,e){var s=[];return i(e)&&s.push(e),s.slice.apply(t,s)}function a(t,i){var e=s(arguments,2);return function(){return t.apply(i,e.concat(s(arguments)))}}function o(t){var i=t.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return i&&(i[1]!==b.protocol||i[2]!==b.hostname||i[3]!==b.port)}function n(t){var i="timestamp="+(new Date).getTime();return t+(t.indexOf("?")===-1?"?":"&")+i}function r(t){return t?' crossOrigin="'+t+'"':""}function h(t,i){var e;return t.naturalWidth&&!mt?i(t.naturalWidth,t.naturalHeight):(e=document.createElement("img"),e.onload=function(){i(this.width,this.height)},void(e.src=t.src))}function p(t){var e=[],s=t.rotate,a=t.scaleX,o=t.scaleY;return i(s)&&0!==s&&e.push("rotate("+s+"deg)"),i(a)&&1!==a&&e.push("scaleX("+a+")"),i(o)&&1!==o&&e.push("scaleY("+o+")"),e.length?e.join(" "):"none"}function c(t,i){var e,s,a=Bt(t.degree)%180,o=(a>90?180-a:a)*Math.PI/180,n=$t(o),r=Dt(o),h=t.width,p=t.height,c=t.aspectRatio;return i?(e=h/(r+n/c),s=e/c):(e=h*r+p*n,s=h*n+p*r),{width:e,height:s}}function l(e,s){var a,o,n,r=t("<canvas>")[0],h=r.getContext("2d"),p=0,l=0,d=s.naturalWidth,g=s.naturalHeight,u=s.rotate,f=s.scaleX,v=s.scaleY,w=i(f)&&i(v)&&(1!==f||1!==v),m=i(u)&&0!==u,x=m||w,C=d*Bt(f||1),b=g*Bt(v||1);return w&&(a=C/2,o=b/2),m&&(n=c({width:C,height:b,degree:u}),C=n.width,b=n.height,a=C/2,o=b/2),r.width=C,r.height=b,x&&(p=-d/2,l=-g/2,h.save(),h.translate(a,o)),m&&h.rotate(u*Math.PI/180),w&&h.scale(f,v),h.drawImage(e,Lt(p),Lt(l),Lt(d),Lt(g)),x&&h.restore(),r}function d(i){var e=i.length,s=0,a=0;return e&&(t.each(i,function(t,i){s+=i.pageX,a+=i.pageY}),s/=e,a/=e),{pageX:s,pageY:a}}function g(t,i,e){var s,a="";for(s=i,e+=i;s<e;s++)a+=Mt(t.getUint8(s));return a}function u(t){var i,e,s,a,o,n,r,h,p,c,l=new y(t),d=l.byteLength;if(255===l.getUint8(0)&&216===l.getUint8(1))for(p=2;p<d;){if(255===l.getUint8(p)&&225===l.getUint8(p+1)){r=p;break}p++}if(r&&(e=r+4,s=r+10,"Exif"===g(l,e,4)&&(n=l.getUint16(s),o=18761===n,(o||19789===n)&&42===l.getUint16(s+2,o)&&(a=l.getUint32(s+4,o),a>=8&&(h=s+a)))),h)for(d=l.getUint16(h,o),c=0;c<d;c++)if(p=h+12*c+2,274===l.getUint16(p,o)){p+=8,i=l.getUint16(p,o),mt&&l.setUint16(p,1,o);break}return i}function f(t){var i,e=t.replace(tt,""),s=atob(e),a=s.length,o=new $(a),n=new D(o);for(i=0;i<a;i++)n[i]=s.charCodeAt(i);return o}function v(t){var i,e=new D(t),s=e.length,a="";for(i=0;i<s;i++)a+=Mt(e[i]);return"data:image/jpeg;base64,"+T(a)}function w(){for(var t,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=new Array(36),s=0,a=0;a<36;a++)8===a||13===a||18===a||23===a?e[a]="-":14===a?e[a]="4":(s<=2&&(s=33554432+16777216*Math.random()|0),t=15&s,s>>=4,e[a]=i[19===a?3&t|8:t]);return e.join("")}function m(i,e){this.$element=t(i),this.options=t.extend({},m.DEFAULTS,t.isPlainObject(e)&&e),this.isLoaded=!1,this.isBuilt=!1,this.isCompleted=!1,this.isRotated=!1,this.isCropped=!1,this.isDisabled=!1,this.isReplaced=!1,this.isLimited=!1,this.wheeling=!1,this.isImg=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.init()}var x=t(window),C=t(document),b=window.location,B=window.navigator,$=window.ArrayBuffer,D=window.Uint8Array,y=window.DataView,T=window.btoa,L="cropper",M="cropper-modal",P="cropper-hide",X="cropper-hidden",Y="cropper-invisible",k="cropper-move",R="cropper-crop",W="cropper-disabled",I="cropper-bg",O="mousedown touchstart pointerdown MSPointerDown",H="mousemove touchmove pointermove MSPointerMove",E="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",z="wheel mousewheel DOMMouseScroll",A="dblclick",U="load."+L,N="error."+L,j="resize."+L,F="build."+L,S="built."+L,_="cropstart."+L,q="cropmove."+L,K="cropend."+L,Z="close."+L,G="crop."+L,Q="zoom."+L,V=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,J=/^data:/,tt=/^data:([^;]+);base64,/,it=/^data:image\/jpeg.*;base64,/,et="preview",st="action",at="e",ot="w",nt="s",rt="n",ht="se",pt="sw",ct="ne",lt="nw",dt="all",gt="crop",ut="move",ft="zoom",vt="none",wt=t.isFunction(t("<canvas>")[0].getContext),mt=B&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(B.userAgent),xt=Number,Ct=Math.min,bt=Math.max,Bt=Math.abs,$t=Math.sin,Dt=Math.cos,yt=Math.sqrt,Tt=Math.round,Lt=Math.floor,Mt=String.fromCharCode;m.prototype={constructor:m,init:function(){var t,i=this.$element;if(i.is("img")){if(this.isImg=!0,this.originalUrl=t=i.attr("src"),!t)return;t=i.prop("src")}else i.is("canvas")&&wt&&(t=i[0].toDataURL());this.load(t)},trigger:function(i,e){var s=t.Event(i,e);return this.$element.trigger(s),s},load:function(i){var e,s,a=this.options,r=this.$element;if(i&&(r.one(F,a.build),!this.trigger(F).isDefaultPrevented())){if(this.url=i,this.image={},!a.checkOrientation||!$)return this.clone();if(e=t.proxy(this.read,this),J.test(i))return it.test(i)?e(f(i)):this.clone();s=new XMLHttpRequest,s.onerror=s.onabort=t.proxy(function(){this.clone()},this),s.onload=function(){e(this.response)},a.checkCrossOrigin&&o(i)&&r.prop("crossOrigin")&&(i=n(i)),s.open("get",i),s.responseType="arraybuffer",s.send()}},read:function(t){var i=this.options,e=u(t),s=this.image,a=0,o=1,n=1;if(e>1)switch(this.url=v(t),e){case 2:o=-1;break;case 3:a=-180;break;case 4:n=-1;break;case 5:a=90,n=-1;break;case 6:a=90;break;case 7:a=90,o=-1;break;case 8:a=-90}i.rotatable&&(s.rotate=a),i.scalable&&(s.scaleX=o,s.scaleY=n),this.clone()},clone:function(){var i,e,s=this.options,a=this.$element,h=this.url,p="";s.checkCrossOrigin&&o(h)&&(p=a.prop("crossOrigin"),p?i=h:(p="anonymous",i=n(h))),this.crossOrigin=p,this.crossOriginUrl=i,this.$clone=e=t("<img"+r(p)+' src="'+(i||h)+'">'),this.isImg?a[0].complete?this.start():a.one(U,t.proxy(this.start,this)):e.one(U,t.proxy(this.start,this)).one(N,t.proxy(this.stop,this)).addClass(P).insertAfter(a)},start:function(){var i=this.$element,e=this.$clone;this.isImg||(e.off(N,this.stop),i=e),h(i[0],t.proxy(function(i,e){t.extend(this.image,{naturalWidth:i,naturalHeight:e,aspectRatio:i/e}),this.isLoaded=!0,this.build()},this))},stop:function(){this.$clone.remove(),this.$clone=null},build:function(i){var e,s,a,o,n=this.options,r=this.$element,h=this.$clone;this.isLoaded&&(this.isBuilt&&this.unbuild(),this.previews={},this.previewObjs={},this.previewsData={},this.cropBoxes={},this.cropBoxIndex=null,this.attachedPreview=n.attachedPreview,this.$container=r.parent(),this.$cropBoxes={},this.$cropper=e=t(m.TEMPLATE),this.$canvas=e.find(".cropper-canvas").append(h),this.$dragBox=e.find(".cropper-drag-box"),this.$cropBox=s=t(m.CROP_TEMPLATE1),o=w(),this.cropBoxIndex=o,this.$cropBoxes[o]=this.$cropBox,this.$viewBox=e.find(".cropper-view-box"),this.$face=a=s.find(".cropper-face"),a.parent().data("index",o),e.append(s),r.addClass(X).after(e),this.isImg||h.removeClass(P),this.initPreview(o),this.bind(),n.aspectRatio=bt(0,n.aspectRatio)||NaN,n.viewMode=bt(0,Ct(3,Tt(n.viewMode)))||0,n.autoCrop?(this.isCropped=!0,n.modal&&this.$dragBox.addClass(M)):s.addClass(X),n.guides||s.find(".cropper-dashed").addClass(X),n.center||s.find(".cropper-center").addClass(X),n.cropBoxMovable&&a.addClass(k).data(st,dt),this.closeCrop(),n.highlight||a.addClass(Y),n.background&&e.addClass(I),n.cropBoxResizable||s.find(".cropper-line, .cropper-point").addClass(X),this.setDragMode(n.dragMode),this.render(),this.isBuilt=!0,r.one(S,n.built),setTimeout(t.proxy(function(){this.trigger(S),this.trigger(G,this.getData()),this.isCompleted=!0},this),0),i||n.data&&Object.keys(n.data).length>0&&(this.setNewData(n.data),this.closeCrop(o)))},buildNewCrop:function(i,e){var s,a,o,n,r=this.options,h=this.$clone,p=this.$cropper;i&&(n=i.direction||[]),this.isLoaded&&(this.$cropBox=s=t(m.CROP_TEMPLATE),o=e||w(),this.cropBoxIndex=o,this.$cropBoxes[o]=this.$cropBox,this.$viewBox=p.find(".cropper-view-box"),this.$face=a=s.find(".cropper-face"),a.parent().data("index",o),p.append(s),this.isImg||h.removeClass(P),this.initPreview(o,n),this.bind(),r.aspectRatio=bt(0,r.aspectRatio)||NaN,r.viewMode=bt(0,Ct(3,Tt(r.viewMode)))||0,r.autoCrop?(this.isCropped=!0,r.modal&&this.$dragBox.addClass(M)):s.addClass(X),r.guides||s.find(".cropper-dashed").addClass(X),r.center||s.find(".cropper-center").addClass(X),r.cropBoxMovable&&a.addClass(k).data(st,dt),r.highlight||a.addClass(Y),r.background&&p.addClass(I),r.cropBoxResizable||s.find(".cropper-line, .cropper-point").addClass(X),this.setDragMode(r.dragMode),this.render(i),this.closeCrop())},closeCrop:function(i){if(i){var e=this.$cropBoxes[i];if(!e)return;var s=this.$cropBoxes[i].data("index");this.close(s),e.remove(),event.preventDefault()}else{var a=this;t(".close-icon").off().on("click",function(e){var s;s=i?i:t(this).parent().data("index"),a.close.call(a,s),a.trigger(Z),t(this).parent().remove(),e.preventDefault()})}},close:function(t){delete this.cropBoxes[t],delete this.$cropBoxes[t],delete this.previews[t],delete this.previewsData[t],this.deletePreview(t);var i=Object.keys(this.cropBoxes);this.cropBoxIndex===t&&(i.length>0?this.cropBoxIndex=i[0]:(this.cropBoxIndex=null,this.cropBox=null,this.$cropBox=null))},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.isCompleted=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.cropBoxes=null,this.previews=null,this.previewsData=null,this.unbind(),this.$preview=null,this.resetPreview(),this.$viewBox=null,this.$cropBox=null,this.$cropBoxes=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)},render:function(t){return t?(this.initCropBox(t),void(this.isCropped&&this.renderCropBox(this.cropBoxIndex))):(this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),void(this.isCropped&&this.renderCropBox()))},initContainer:function(){var t=this.options,i=this.$element,e=this.$container,s=this.$cropper;s.addClass(X),i.removeClass(X),s.css(this.container={width:bt(e.width(),xt(t.minContainerWidth)||200),height:bt(e.height(),xt(t.minContainerHeight)||100)}),i.addClass(X),s.removeClass(X)},initCanvas:function(){var i,e=this.options.viewMode,s=this.container,a=s.width,o=s.height,n=this.image,r=n.naturalWidth,h=n.naturalHeight,p=90===Bt(n.rotate),c=p?h:r,l=p?r:h,d=c/l,g=a,u=o;o*d>a?3===e?g=o*d:u=a/d:3===e?u=a/d:g=o*d,i={naturalWidth:c,naturalHeight:l,aspectRatio:d,width:g,height:u},i.oldLeft=i.left=(a-g)/2,i.oldTop=i.top=(o-u)/2,this.canvas=i,this.isLimited=1===e||2===e,this.limitCanvas(!0,!0),this.initialImage=t.extend({},n),this.initialCanvas=t.extend({},i)},limitCanvas:function(t,i,e){var s,a,o,n,r=this.options,h=r.viewMode,p=this.container,c=p.width,l=p.height,d=this.canvas,g=d.aspectRatio,u=this.cropBoxes[e]||this.cropBoxes[this.cropBoxIndex],f=this.isCropped&&u;t&&(s=xt(r.minCanvasWidth)||0,a=xt(r.minCanvasHeight)||0,h&&(h>1?(s=bt(s,c),a=bt(a,l),3===h&&(a*g>s?s=a*g:a=s/g)):s?s=bt(s,f?u.width:0):a?a=bt(a,f?u.height:0):f&&(s=u.width,a=u.height,a*g>s?s=a*g:a=s/g)),s&&a?a*g>s?a=s/g:s=a*g:s?a=s/g:a&&(s=a*g),d.minWidth=s,d.minHeight=a,d.maxWidth=1/0,d.maxHeight=1/0),i&&(h?(o=c-d.width,n=l-d.height,d.minLeft=Ct(0,o),d.minTop=Ct(0,n),d.maxLeft=bt(0,o),d.maxTop=bt(0,n),f&&this.isLimited&&(d.minLeft=Ct(u.left,u.left+u.width-d.width),d.minTop=Ct(u.top,u.top+u.height-d.height),d.maxLeft=u.left,d.maxTop=u.top,2===h&&(d.width>=c&&(d.minLeft=Ct(0,o),d.maxLeft=bt(0,o)),d.height>=l&&(d.minTop=Ct(0,n),d.maxTop=bt(0,n))))):(d.minLeft=-d.width,d.minTop=-d.height,d.maxLeft=c,d.maxTop=l))},renderCanvas:function(t){var i,e,s=this.canvas,a=this.image,o=a.rotate,n=a.naturalWidth,r=a.naturalHeight;this.isRotated&&(this.isRotated=!1,e=c({width:a.width,height:a.height,degree:o}),i=e.width/e.height,i!==s.aspectRatio&&(s.left-=(e.width-s.width)/2,s.top-=(e.height-s.height)/2,s.width=e.width,s.height=e.height,s.aspectRatio=i,s.naturalWidth=n,s.naturalHeight=r,o%180&&(e=c({width:n,height:r,degree:o}),s.naturalWidth=e.width,s.naturalHeight=e.height),this.limitCanvas(!0,!1))),(s.width>s.maxWidth||s.width<s.minWidth)&&(s.left=s.oldLeft),(s.height>s.maxHeight||s.height<s.minHeight)&&(s.top=s.oldTop),s.width=Ct(bt(s.width,s.minWidth),s.maxWidth),s.height=Ct(bt(s.height,s.minHeight),s.maxHeight),this.limitCanvas(!1,!0),s.oldLeft=s.left=Ct(bt(s.left,s.minLeft),s.maxLeft),s.oldTop=s.top=Ct(bt(s.top,s.minTop),s.maxTop),this.$canvas.css({width:s.width,height:s.height,left:s.left,top:s.top}),this.renderImage(),this.isCropped&&this.isLimited&&this.limitCropBox(!0,!0),t&&this.output()},renderImage:function(i){var e,s=this.canvas,a=this.image;a.rotate&&(e=c({width:s.width,height:s.height,degree:a.rotate,aspectRatio:a.aspectRatio},!0)),t.extend(a,e?{width:e.width,height:e.height,left:(s.width-e.width)/2,top:(s.height-e.height)/2}:{width:s.width,height:s.height,left:0,top:0}),this.$clone.css({width:a.width,height:a.height,marginLeft:a.left,marginTop:a.top,transform:p(a)}),i&&this.output()},initCropBox:function(i){var e,s=this.options,a=this.canvas,o=this.cropBoxIndex,n=s.aspectRatio,r=xt(s.autoCropArea)||.8;e=i?i.left&&i.top?{width:i.width,height:i.height,left:i.left,top:i.top}:{width:i.width,height:i.height}:{width:a.width,height:a.height},n&&(i?i.height*n>i.width?i.height=i.width/n:i.width=i.height*n:a.height*n>a.width?e.height=e.width/n:e.width=e.height*n),this.cropBox=e,this.cropBoxes[o]=this.cropBox,this.limitCropBox(!0,!0,o),e.width=Ct(bt(e.width,e.minWidth),e.maxWidth),e.height=Ct(bt(e.height,e.minHeight),e.maxHeight),i?(e.width=i.width,e.height=i.height,e.oldLeft=e.left=i.left,e.oldTop=e.top=i.top+(i.height-e.height)/2):(e.width=bt(e.minWidth,e.width*r),e.height=bt(e.minHeight,e.height*r),e.oldLeft=e.left=a.left+(a.width-e.width)/2,e.oldTop=e.top=a.top+(a.height-e.height)/2),this.initialCropBox=t.extend({},e)},limitCropBox:function(i,e,s){var a,o,n,r,h,p,c=this.options,l=c.aspectRatio,d=this.container,g=d.width,u=d.height,f=this.canvas,v=this.cropBoxes,w=this.isLimited;isNaN(s)||(h=s,h=h.toString(),p=v[h]);t.each(v,function(t,s){return!(!p||h===t)||(i&&(a=xt(c.minCropBoxWidth)||0,o=xt(c.minCropBoxHeight)||0,a=Ct(a,g),o=Ct(o,u),n=Ct(g,w?f.width:g),r=Ct(u,w?f.height:u),l&&(a&&o?o*l>a?o=a/l:a=o*l:a?o=a/l:o&&(a=o*l),r*l>n?r=n/l:n=r*l),s.minWidth=Ct(a,n),s.minHeight=Ct(o,r),s.maxWidth=n,s.maxHeight=r),void(e&&(w?(s.minLeft=bt(0,f.left),s.minTop=bt(0,f.top),s.maxLeft=Ct(g,f.left+f.width)-s.width,s.maxTop=Ct(u,f.top+f.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=g-s.width,s.maxTop=u-s.height))))})},renderCropBox:function(i){var e,s,a=this.options,o=this.container,n=o.width,r=o.height,h=this.cropBoxes;isNaN(i)||(e=i,e=e.toString(),s=h[e]);var p=this;t.each(h,function(t,i){if(s&&e!==t)return!0;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Ct(bt(i.width,i.minWidth),i.maxWidth),i.height=Ct(bt(i.height,i.minHeight),i.maxHeight),p.limitCropBox(!1,!0,t),i.oldLeft=i.left=Ct(bt(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=Ct(bt(i.top,i.minTop),i.maxTop),a.movable&&a.cropBoxMovable&&p.$face.data(st,i.width===n&&i.height===r?ut:dt);var o=p.$cropBoxes[t]||p.$cropBox;o.css({width:i.width,height:i.height,left:i.left,top:i.top}),p.isCropped&&p.isLimited&&p.limitCanvas(!0,!0,t),p.isDisabled||p.output()})},output:function(){this.preview(),this.isCompleted&&this.trigger(G,this.getData())},initPreview:function(i,e){var s,a=r(this.crossOrigin),o=a?this.crossOriginUrl:this.url;this.$viewBox.length<1?(this.$clone2=s=t("<img"+a+' src="'+o+'">'),this.$viewBox.html(s),this.$preview=t(this.options.preview),0===this.$preview.length&&this.setPreview()):this.setPreview();var n=t(this.options.previewContainer);if(n.append(this.$preview),this.previews[i]=this.$preview,this.$preview.data(et,{width:this.$preview.width(),height:this.$preview.height(),html:this.$preview.html(),index:this.cropBoxIndex}),this.previewsData[i]=this.$preview.data(),this.attachedPreview){var h=this.attachedPreview.getTemplate(o,a);this.$preview.html(h),this.addPreview(i,e)}},setPreview:function(){var i=this.options.preview.replace(".","");this.$preview=t('<div class="'+i+' preview-lg"></div>')},addPreview:function(t,i){this.attachedPreview.addPreview(t,i)},deletePreview:function(i){var e=this,s=t(this.options.preview);t.each(s,function(s,a){i===t(a).data("preview").index&&(t(a).remove(),e.attachedPreview.removePreview(i))})},resetPreview:function(){this.$preview&&this.$preview.each(function(){var i=t(this),e=i.data(et);i.css({width:e.width,height:e.height}).html(e.html).removeData(et)})},preview:function(){var t=this.image,i=this.canvas,e=this.cropBoxes[this.cropBoxIndex]||this.cropBox,s=e.width,a=e.height,o=t.width,n=t.height,r=e.left-i.left-t.left,h=e.top-i.top-t.top,c=this.previews[this.cropBoxIndex];if(this.isCropped&&!this.isDisabled&&c){var l=c.data(et),d=l?l.width:0,g=l?l.height:0,u=d,f=g,v=1;s&&(v=d/s,f=a*v),a&&f>g&&(v=g/a,u=s*v,f=g);var w=o*v,m=n*v,x=-r*v,C=-h*v;c.data(et,{width:d,height:g,containerWidth:u,containerHeight:f,imgWidth:w,imgHeight:m,imgMarginLeft:x,imgMarginTop:C,index:this.cropBoxIndex}),c.css({width:u,height:f}).find("img").css({width:w,height:m,marginLeft:x,marginTop:C,transform:p(t)})}},bind:function(){var i=this.options,e=this.$element,s=this.$cropper;t.isFunction(i.cropstart)&&e.on(_,i.cropstart),t.isFunction(i.cropmove)&&e.on(q,i.cropmove),t.isFunction(i.cropend)&&e.on(K,i.cropend),t.isFunction(i.crop)&&e.on(G,i.crop),t.isFunction(i.zoom)&&e.on(Q,i.zoom),s.on(O,t.proxy(this.cropStart,this)),i.zoomable&&i.zoomOnWheel&&s.on(z,t.proxy(this.wheel,this)),i.toggleDragModeOnDblclick&&s.on(A,t.proxy(this.dblclick,this)),C.on(H,this._cropMove=a(this.cropMove,this)).on(E,this._cropEnd=a(this.cropEnd,this)),i.responsive&&x.on(j,this._resize=a(this.resize,this))},unbind:function(){var i=this.options,e=this.$element,s=this.$cropper;t.isFunction(i.cropstart)&&e.off(_,i.cropstart),t.isFunction(i.cropmove)&&e.off(q,i.cropmove),t.isFunction(i.cropend)&&e.off(K,i.cropend),t.isFunction(i.crop)&&e.off(G,i.crop),t.isFunction(i.zoom)&&e.off(Q,i.zoom),s.off(O,this.cropStart),i.zoomable&&i.zoomOnWheel&&s.off(z,this.wheel),i.toggleDragModeOnDblclick&&s.off(A,this.dblclick),C.off(H,this._cropMove).off(E,this._cropEnd),i.responsive&&x.off(j,this._resize)},resize:function(){var i,e,s,a=this.options.restore,o=this.$container,n=this.container;!this.isDisabled&&n&&(s=o.width()/n.width,1===s&&o.height()===n.height||(a&&(i=this.getCanvasData(),e=this.getCropBoxData()),this.render(),a&&(this.setCanvasData(t.each(i,function(t,e){i[t]=e*s})),this.setCropBoxData(t.each(e,function(i,e){t.each(e,function(t,i){e[t]=i*s})})))))},dblclick:function(){this.isDisabled||(this.$dragBox.hasClass(R)?this.setDragMode(ut):this.setDragMode(gt))},wheel:function(i){var e=i.originalEvent||i,s=xt(this.options.wheelZoomRatio)||.1,a=1;this.isDisabled||(i.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(t.proxy(function(){this.wheeling=!1},this),50),e.deltaY?a=e.deltaY>0?1:-1:e.wheelDelta?a=-e.wheelDelta/120:e.detail&&(a=e.detail>0?1:-1),this.zoom(-a*s,i)))},cropStart:function(i){var e,s,a=this.options,o=i.originalEvent,n=o&&o.touches,r=i;if(!this.isDisabled){if(n){if(e=n.length,e>1){if(!a.zoomable||!a.zoomOnTouch||2!==e)return;r=n[1],this.startX2=r.pageX,this.startY2=r.pageY,s=ft}r=n[0]}var h=t(r.target).parent();if(h.addClass("active"),s=s||t(r.target).data(st),V.test(s)){if(this.trigger(_,{originalEvent:o,action:s}).isDefaultPrevented())return;i.preventDefault(),this.action=s,this.cropping=!1,h.appendTo(h.parent()),this.startX=r.pageX||o&&o.pageX,this.startY=r.pageY||o&&o.pageY,s===gt&&(this.cropping=!0,this.$dragBox.addClass(M))}}},cropMove:function(i){var e,s=this.options,a=i.originalEvent,o=a&&a.touches,n=i,r=this.action,h="";if(t(n.target).hasClass("cropper-crop-box")&&t(n.target).hasClass("active")?h=t(n.target)[0]:t(n.target).parent().hasClass("cropper-crop-box")&&t(n.target).parent().hasClass("active")&&(h=t(n.target).parent()[0]),!this.isDisabled){if(o){if(e=o.length,e>1){if(!s.zoomable||!s.zoomOnTouch||2!==e)return;n=o[1],this.endX2=n.pageX,this.endY2=n.pageY}n=o[0]}if(r){if(this.trigger(q,{originalEvent:a,action:r}).isDefaultPrevented())return;i.preventDefault(),this.endX=n.pageX||a&&a.pageX,this.endY=n.pageY||a&&a.pageY,this.change(n.shiftKey,r===ft?i:null,h)}}},cropEnd:function(i){var e=i.originalEvent,s=this.action;this.isDisabled||s&&(i.preventDefault(),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(M,this.isCropped&&this.options.modal)),t(".cropper-crop-box").removeClass("active"),this.action="",this.trigger(K,{originalEvent:e,action:s}))},change:function(i,e,s){var a=this.options,o=a.aspectRatio,n=this.action,r=this.container,h=this.canvas,p=t(s).data("index");void 0!==p&&(this.cropBoxIndex=p);var c;c=this.cropBoxes[this.cropBoxIndex],c||n===gt&&(c={left:0,top:0,width:100,height:100,minTop:0,minLeft:0,minWidth:10,minHeight:10});var l,d,g=c.width,u=c.height,f=c.left,v=c.top,w=f+g,m=v+u,x=0,C=0,b=r.width,B=r.height,$=!0,D=!1;switch(!o&&i&&(o=g&&u?g/u:1),this.isLimited&&(x=c.minLeft,C=c.minTop,b=x+Ct(r.width,h.left+h.width),B=C+Ct(r.height,h.top+h.height)),d={x:this.endX-this.startX,y:this.endY-this.startY},o&&(d.X=d.y*o,d.Y=d.x/o),n){case dt:f+=d.x,v+=d.y;break;case at:if(d.x>=0&&(w>=b||o&&(v<=C||m>=B))){$=!1;break}g+=d.x,o&&(u=g/o,v-=d.Y/2),g<0&&(n=ot,g=0);break;case rt:if(d.y<=0&&(v<=C||o&&(f<=x||w>=b))){$=!1;break}u-=d.y,v+=d.y,o&&(g=u*o,f+=d.X/2),u<0&&(n=nt,u=0);break;case ot:if(d.x<=0&&(f<=x||o&&(v<=C||m>=B))){$=!1;break}g-=d.x,f+=d.x,o&&(u=g/o,v+=d.Y/2),g<0&&(n=at,g=0);break;case nt:if(d.y>=0&&(m>=B||o&&(f<=x||w>=b))){$=!1;break}u+=d.y,o&&(g=u*o,f-=d.X/2),u<0&&(n=rt,u=0);break;case ct:if(o){if(d.y<=0&&(v<=C||w>=b)){$=!1;break}u-=d.y,v+=d.y,g=u*o}else d.x>=0?w<b?g+=d.x:d.y<=0&&v<=C&&($=!1):g+=d.x,d.y<=0?v>C&&(u-=d.y,v+=d.y):(u-=d.y,v+=d.y);g<0&&u<0?(n=pt,u=0,g=0):g<0?(n=lt,g=0):u<0&&(n=ht,u=0);break;case lt:if(o){if(d.y<=0&&(v<=C||f<=x)){$=!1;break}u-=d.y,v+=d.y,g=u*o,f+=d.X}else d.x<=0?f>x?(g-=d.x,f+=d.x):d.y<=0&&v<=C&&($=!1):(g-=d.x,f+=d.x),d.y<=0?v>C&&(u-=d.y,v+=d.y):(u-=d.y,v+=d.y);g<0&&u<0?(n=ht,u=0,g=0):g<0?(n=ct,g=0):u<0&&(n=pt,u=0);break;case pt:if(o){if(d.x<=0&&(f<=x||m>=B)){$=!1;break}g-=d.x,f+=d.x,u=g/o}else d.x<=0?f>x?(g-=d.x,f+=d.x):d.y>=0&&m>=B&&($=!1):(g-=d.x,f+=d.x),d.y>=0?m<B&&(u+=d.y):u+=d.y;g<0&&u<0?(n=ct,u=0,g=0):g<0?(n=ht,g=0):u<0&&(n=lt,u=0);break;case ht:if(o){if(d.x>=0&&(w>=b||m>=B)){$=!1;break}g+=d.x,u=g/o}else d.x>=0?w<b?g+=d.x:d.y>=0&&m>=B&&($=!1):g+=d.x,d.y>=0?m<B&&(u+=d.y):u+=d.y;g<0&&u<0?(n=lt,u=0,g=0):g<0?(n=pt,g=0):u<0&&(n=ct,u=0);break;case ut:this.move(d.x,d.y),$=!1;break;case ft:this.zoom(function(t,i,e,s){var a=yt(t*t+i*i),o=yt(e*e+s*s);return(o-a)/a}(Bt(this.startX-this.startX2),Bt(this.startY-this.startY2),Bt(this.endX-this.endX2),Bt(this.endY-this.endY2)),e),this.startX2=this.endX2,this.startY2=this.endY2,$=!1;break;case gt:if(!d.x||!d.y){$=!1,D=!1;break}D=!0,l=this.$cropper.offset(),f=this.startX-l.left,v=this.startY-l.top,g=c.minWidth,u=c.minHeight,d.x>0?n=d.y>0?ht:ct:d.x<0&&(f-=g,n=d.y>0?pt:lt),d.y<0&&(v-=u),this.isCropped||(this.$cropBox.removeClass(X),this.isCropped=!0,this.isLimited&&this.limitCropBox(!0,!0,this.cropBoxIndex))}if(D){var y=t.extend({},c);y.left=f,y.top=v,y.width=g,y.height=u,this.buildNewCrop(y),this.action=n,D=!1}else $&&(c.width=g,c.height=u,c.left=f,c.top=v,this.action=n,this.renderCropBox(this.cropBoxIndex));this.startX=this.endX,this.startY=this.endY},crop:function(){this.isBuilt&&!this.isDisabled&&(this.isCropped||(this.isCropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(M),this.$cropBox.removeClass(X)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.isBuilt&&!this.isDisabled&&(this.image=t.extend({},this.initialImage),this.canvas=t.extend({},this.initialCanvas),this.cropBox=t.extend({},this.initialCropBox),this.renderCanvas(),this.isCropped&&this.renderCropBox())},clear:function(){this.isCropped&&!this.isDisabled&&(t.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.isCropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(M),this.$cropBox.addClass(X))},replace:function(t,i){!this.isDisabled&&t&&(this.isImg&&this.$element.attr("src",t),i?(this.url=t,this.$clone.attr("src",t),this.isBuilt&&this.$preview.find("img").add(this.$clone2).attr("src",t)):(this.isImg&&(this.isReplaced=!0),this.options.data=null,this.load(t)))},enable:function(){this.isBuilt&&(this.isDisabled=!1,this.$cropper.removeClass(W))},disable:function(){this.isBuilt&&(this.isDisabled=!0,this.$cropper.addClass(W))},destroy:function(){var t=this.$element;this.isLoaded?(this.isImg&&this.isReplaced&&t.attr("src",this.originalUrl),this.unbuild(),t.removeClass(X)):this.isImg?t.off(U,this.start):this.$clone&&this.$clone.remove(),t.removeData(L)},move:function(t,i){var s=this.canvas;this.moveTo(e(t)?t:s.left+xt(t),e(i)?i:s.top+xt(i))},moveTo:function(t,s){var a=this.canvas,o=!1;e(s)&&(s=t),t=xt(t),s=xt(s),this.isBuilt&&!this.isDisabled&&this.options.movable&&(i(t)&&(a.left=t,o=!0),i(s)&&(a.top=s,o=!0),o&&this.renderCanvas(!0))},zoom:function(t,i){return},zoomTo:function(t,i){var e,s,a,o,n,r=this.options,h=this.canvas,p=h.width,c=h.height,l=h.naturalWidth,g=h.naturalHeight;if(t=xt(t),t>=0&&this.isBuilt&&!this.isDisabled&&r.zoomable){if(s=l*t,a=g*t,i&&(e=i.originalEvent),this.trigger(Q,{originalEvent:e,oldRatio:p/l,ratio:s/l}).isDefaultPrevented())return;e?(o=this.$cropper.offset(),n=e.touches?d(e.touches):{pageX:i.pageX||e.pageX||0,pageY:i.pageY||e.pageY||0},h.left-=(s-p)*((n.pageX-o.left-h.left)/p),h.top-=(a-c)*((n.pageY-o.top-h.top)/c)):(h.left-=(s-p)/2,h.top-=(a-c)/2),h.width=s,h.height=a,this.renderCanvas(!0)}},rotate:function(t){this.rotateTo((this.image.rotate||0)+xt(t))},rotateTo:function(t){t=xt(t),i(t)&&this.isBuilt&&!this.isDisabled&&this.options.rotatable&&(this.image.rotate=t%360,this.isRotated=!0,this.renderCanvas(!0))},scale:function(t,s){var a=this.image,o=!1;e(s)&&(s=t),t=xt(t),s=xt(s),this.isBuilt&&!this.isDisabled&&this.options.scalable&&(i(t)&&(a.scaleX=t,o=!0),i(s)&&(a.scaleY=s,o=!0),o&&this.renderImage(!0))},scaleX:function(t){var e=this.image.scaleY;this.scale(t,i(e)?e:1)},scaleY:function(t){var e=this.image.scaleX;this.scale(i(e)?e:1,t)},getData:function(i){var e,s=this.options,a=this.image,o=this.canvas,n=(this.cropBox,this.cropBoxes),r=this.previews,h={},p=this;return t.each(n,function(n,c){var l;p.isBuilt&&p.isCropped?(l={x:c.left-o.left,y:c.top-o.top,width:c.width,height:c.height,minWidth:c.minWidth,minHeight:c.minHeight},e=a.width/a.naturalWidth,t.each(l,function(t,s){s/=e,l[t]=i?Tt(s):s}),l.sizeX=c.width/a.width,l.sizeY=c.height/a.height,l.cropAspectRatio=c.width/c.height,l.imageAspectRatio=a.width/a.height):l={x:0,y:0,width:0,height:0},s.rotatable&&(l.rotate=a.rotate||0),s.scalable&&(l.scaleX=a.scaleX||1,l.scaleY=a.scaleY||1),p.attachedPreview&&(l.direction=p.attachedPreview.getDirection(n)),l.preview=r[n].data(),h[n]=l}),h},setData:function(e){var s,a,o,n=this.options,r=this.image,h=this.canvas,p={},c=this;t.each(e,function(e,l){var d={};t.isFunction(l)&&(l=l.call(c.element)),c.isBuilt&&!c.isDisabled&&t.isPlainObject(l)&&(n.rotatable&&i(l.rotate)&&l.rotate!==r.rotate&&(r.rotate=l.rotate,c.isRotated=s=!0),n.scalable&&(i(l.scaleX)&&l.scaleX!==r.scaleX&&(r.scaleX=l.scaleX,a=!0),i(l.scaleY)&&l.scaleY!==r.scaleY&&(r.scaleY=l.scaleY,a=!0)),s?c.renderCanvas():a&&c.renderImage(),o=r.width/r.naturalWidth,i(l.x)&&(d.left=l.x*o+h.left),i(l.y)&&(d.top=l.y*o+h.top),i(l.width)&&(d.width=l.width*o),i(l.height)&&(d.height=l.height*o),p[e]=d)}),this.setCropBoxData(p)},setNewData:function(e){var s,a,o,n=this.options,r=this.image,h=this.canvas,p={},c=this;t.each(e,function(e,l){var d={};t.isFunction(l)&&(l=l.call(c.element)),c.isBuilt&&!c.isDisabled&&t.isPlainObject(l)&&(n.rotatable&&i(l.rotate)&&l.rotate!==r.rotate&&(r.rotate=l.rotate,c.isRotated=s=!0),n.scalable&&(i(l.scaleX)&&l.scaleX!==r.scaleX&&(r.scaleX=l.scaleX,a=!0),i(l.scaleY)&&l.scaleY!==r.scaleY&&(r.scaleY=l.scaleY,a=!0)),s?c.renderCanvas():a&&c.renderImage(),o=r.width/r.naturalWidth,i(l.x)&&(d.left=l.x*o+h.left),i(l.y)&&(d.top=l.y*o+h.top),i(l.width)&&(d.width=l.width*o),i(l.height)&&(d.height=l.height*o),e in c.cropBoxes&&c.closeCrop(e),l.direction.length>0?d.direction=l.direction:d.direction=[],p[e]=d,c.buildNewCrop(d,e))})},getContainerData:function(){return this.isBuilt?this.container:{}},getImageData:function(){return this.isLoaded?this.image:{}},getCanvasData:function(){var i=this.canvas,e={};return this.isBuilt&&t.each(["left","top","width","height","naturalWidth","naturalHeight"],function(t,s){e[s]=i[s]}),e},setCanvasData:function(e){var s=this.canvas,a=s.aspectRatio;t.isFunction(e)&&(e=e.call(this.$element)),this.isBuilt&&!this.isDisabled&&t.isPlainObject(e)&&(i(e.left)&&(s.left=e.left),i(e.top)&&(s.top=e.top),i(e.width)?(s.width=e.width,s.height=e.width/a):i(e.height)&&(s.height=e.height,s.width=e.height*a),this.renderCanvas(!0))},getCropBoxData:function(){var i=this.cropBoxes,e={},s=this;return t.each(i,function(t,i){var a;s.isBuilt&&s.isCropped&&(a={left:i.left,top:i.top,width:i.width,height:i.height},e[t]=a)}),e||{}},setCropBoxData:function(e){var s,a,o=this.cropBoxes,n=this.options.aspectRatio;t.isFunction(e)&&(e=e.call(this.$element)),this.isBuilt&&this.isCropped&&!this.isDisabled&&t.isPlainObject(e)&&(t.each(o,function(t,o){i(e.left)&&(o.left=e.left),i(e.top)&&(o.top=e.top),i(e.width)&&(s=!0,o.width=e.width),i(e.height)&&(a=!0,o.height=e.height),n&&(s?o.height=o.width/n:a&&(o.width=o.height*n))}),this.renderCropBox())},getCroppedCanvas:function(i){var e,s,a,o,n,r,h,p,c,d,g;if(this.isBuilt&&wt)return this.isCropped?(t.isPlainObject(i)||(i={}),g=this.getData(),e=g.width,s=g.height,p=e/s,t.isPlainObject(i)&&(n=i.width,r=i.height,n?(r=n/p,h=n/e):r&&(n=r*p,h=r/s)),a=Lt(n||e),o=Lt(r||s),c=t("<canvas>")[0],c.width=a,c.height=o,d=c.getContext("2d"),i.fillColor&&(d.fillStyle=i.fillColor,d.fillRect(0,0,a,o)),d.drawImage.apply(d,function(){var t,i,a,o,n,r,p=l(this.$clone[0],this.image),c=p.width,d=p.height,u=this.canvas,f=[p],v=g.x+u.naturalWidth*(Bt(g.scaleX||1)-1)/2,w=g.y+u.naturalHeight*(Bt(g.scaleY||1)-1)/2;return v<=-e||v>c?v=t=a=n=0:v<=0?(a=-v,v=0,t=n=Ct(c,e+v)):v<=c&&(a=0,t=n=Ct(e,c-v)),t<=0||w<=-s||w>d?w=i=o=r=0:w<=0?(o=-w,w=0,i=r=Ct(d,s+w)):w<=d&&(o=0,i=r=Ct(s,d-w)),f.push(Lt(v),Lt(w),Lt(t),Lt(i)),h&&(a*=h,o*=h,n*=h,r*=h),n>0&&r>0&&f.push(Lt(a),Lt(o),Lt(n),Lt(r)),f}.call(this)),c):l(this.$clone[0],this.image)},setAspectRatio:function(t){var i=this.options;this.isDisabled||e(t)||(i.aspectRatio=bt(0,t)||NaN,this.isBuilt&&(this.initCropBox(),this.isCropped&&this.renderCropBox()))},setDragMode:function(t){var i,e,s=this.options;this.isLoaded&&!this.isDisabled&&(i=t===gt,e=s.movable&&t===ut,t=i||e?t:vt,this.$dragBox.data(st,t).toggleClass(R,i).toggleClass(k,e),s.cropBoxMovable||this.$face.data(st,t).toggleClass(R,i).toggleClass(k,e))}},m.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!1,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},m.setDefaults=function(i){t.extend(m.DEFAULTS,i)},m.TEMPLATE='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div></div>',m.CROP_TEMPLATE1='<div class="cropper-crop-box" id="crop1"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span><div class="close-icon"></div></div>',
m.CROP_TEMPLATE2='<div class="cropper-crop-box" id="crop2"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span><div class="close-icon"></div></div>',m.CROP_TEMPLATE='<div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span><div class="close-icon"></div></div>',m.ORIGINAL_TEMPLATE='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',m.other=t.fn.cropper,t.fn.cropper=function(i){var a,o=s(arguments,1);return this.each(function(){var e,s,n=t(this),r=n.data(L);if(!r){if(/destroy/.test(i))return;e=t.extend({},n.data(),t.isPlainObject(i)&&i),n.data(L,r=new m(this,e))}"string"==typeof i&&t.isFunction(s=r[i])&&(a=s.apply(r,o))}),e(a)?this:a},t.fn.cropper.Constructor=m,t.fn.cropper.setDefaults=m.setDefaults,t.fn.cropper.noConflict=function(){return t.fn.cropper=m.other,this}});